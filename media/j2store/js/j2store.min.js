if("undefined"==typeof jQuery||1===parseInt(jQuery.fn.jquery)&&10>parseFloat(jQuery.fn.jquery.replace(/^1\./,""))){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.src="//ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js",e.type="text/javascript",e.onload=e.onreadystatechange=function(){e.readyState?("complete"===e.readyState||"loaded"===e.readyState)&&(e.onreadystatechange=null,onload(jQuery.noConflict(!0))):onload(jQuery.noConflict(!0))},t.appendChild(e)}if(void 0===j2store)var j2store={};if(void 0===j2store.jQuery&&(j2store.jQuery=jQuery.noConflict()),void 0===j2storeURL)var j2storeURL="";function doMiniCart(){!function(t){t.ajax({url:j2storeURL+"index.php?option=com_j2store&view=carts&task=ajaxmini",type:"get",cache:!1,contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){null!=e&&e.response&&t.each(e.response,function(e,a){t(".j2store_cart_module_"+e).length&&t(".j2store_cart_module_"+e).each(function(){t(this).html(a)})})}})}(j2store.jQuery)}function j2storeDoTask(t,e,a,r,n){var o;o=j2store.jQuery,e="#"+e,t&&a?(o(a).serialize(),o.ajax({url:t,type:"get",cache:!1,contentType:"application/json; charset=utf-8",data:n,dataType:"json",beforeSend:function(){o(e).before('<span class="wait"><img src="'+j2storeURL+'media/j2store/images/loader.gif" alt="" /></span>')},complete:function(){o(".wait").remove()},success:function(t){return o(e).length>0&&o(e).html(t.msg),!0}})):t&&!a&&o.ajax({url:t,type:"get",cache:!1,contentType:"application/json; charset=utf-8",data:n,dataType:"json",beforeSend:function(){o(e).before('<span class="wait"><img src="'+j2storeURL+'media/j2store/images/loader.gif" alt="" /></span>')},complete:function(){o(".wait").remove()},success:function(t){o(e).length>0&&o(e).html(t.msg)}})}function j2storeSetShippingRate(t,e,a,r,n,o,s,c){var d;(d=j2store.jQuery)("input[type='hidden'][name='shipping_name']").val(t),d("input[type='hidden'][name='shipping_code']").val(n),d("input[type='hidden'][name='shipping_price']").val(e),d("input[type='hidden'][name='shipping_tax']").val(a),d("input[type='hidden'][name='shipping_extra']").val(r),t.replace(" ",""),d("#onCheckoutShipping_wrapper .shipping_element").hide(),d("#onCheckoutShipping_wrapper ."+c+"_select_text").show()}function doAjaxFilter(t,e,a,r){!function(n){(""==t||0!=n("#ChildOptions"+a).length)&&n("#ChildOptions"+a).html("");var o=n(r).closest("form");if(o.data("product_id")==e){var s=o.serializeArray();if(s.pop({name:"task",value:"addItem"}),s.pop({name:"view",value:"carts"}),s.push({name:"product_id",value:e}),d=s,n.each(d,function(t,e){("task"==e.name||"view"==e.name)&&delete s[t]}),"advancedvariable"==o.data("product_type")){var c=[];o.find("input[type='radio']:checked, select").each(function(t,e){e.value&&n(e).data("is-variant")&&c.push(e.value)});var d,p=[],u=(p=c.sort(function(t,e){return t-e})).join(),l=get_matching_variant(o.data("product_variants"),u);o.find("input[name='variant_id']").val(l),s.push({name:"variant_id",value:l})}s=s.filter(function(t){return void 0!==t}),s=jQuery.param(s),n("body").trigger("before_doAjaxFilter",[o,s]),n.ajax({url:j2storeURL+"index.php?option=com_j2store&view=products&task=update&po_id="+a+"&pov_id="+t+"&product_id="+e,type:"get",cache:!1,data:s,dataType:"json",beforeSend:function(){n("#option-"+a).append('<span class="wait">&nbsp;<img src="'+j2storeURL+'/media/j2store/images/loader.gif" alt="" /></span>')},complete:function(){n(".wait").remove()},success:function(t){var r=n(".product-"+e);r.length&&void 0===t.error&&(t.sku&&r.find(".sku").html(t.sku),t.pricing.base_price&&r.find(".base-price").html(t.pricing.base_price),t.pricing.price&&r.find(".sale-price").html(t.pricing.price),t.afterDisplayPrice&&r.find(".afterDisplayPrice").html(t.afterDisplayPrice),t.quantity&&(r.find('input[name="product_qty"]').val(t.quantity),("variable"==o.data("product_type")||"advancedvariable"==o.data("product_type"))&&r.find('input[name="product_qty"]').attr({value:t.quantity})),t.dimensions&&r.find(".product-dimensions").html(t.dimensions),t.weight&&r.find(".product-weight").html(t.weight),t.main_image&&(j2store.jQuery(".j2store-product-main-image-"+e).attr("src",t.main_image),r.find(".j2store-mainimage .j2store-img-responsive").attr("src",t.main_image),r.find(".j2store-product-additional-images .additional-mainimage").attr("src",t.main_image)),t.pricing.discount_text?r.find(".discount-percentage").html(t.pricing.discount_text):r.find(".discount-percentage").addClass("no-discount"),void 0!==t.stock_status&&(1==t.availability?r.find(".product-stock-container").html('<span class="instock">'+t.stock_status+"</span>"):r.find(".product-stock-container").html('<span class="outofstock">'+t.stock_status+"</span>")),t.optionhtml&&r.find(" #ChildOptions"+a).html(t.optionhtml)),n("body").trigger("after_doAjaxFilter_response",[r,t])},error:function(t,e,a){console.log(a+"\r\n"+t.statusText+"\r\n"+t.responseText)}})}}(j2store.jQuery)}function get_matching_variant(t,e){for(var a in t)if(t[a]==e)return a}function doAjaxPrice(t,e){!function(a){var r=a(e).closest("form");if(r.data("product_id")==t){r.find("input[type='submit']").attr("disabled",!0);var n=r.serializeArray();if(n.pop({name:"task",value:"addItem"}),n.pop({name:"view",value:"carts"}),n.push({name:"product_id",value:t}),s=n,a.each(s,function(t,e){("task"==e.name||"view"==e.name)&&delete n[t]}),"variable"==r.data("product_type")||"advancedvariable"==r.data("product_type")||"variablesubscriptionproduct"==r.data("product_type")){var o=[];"advancedvariable"==r.data("product_type")?r.find("input[type='radio']:checked, select").each(function(t,e){e.value&&a(e).data("is-variant")&&o.push(e.value)}):r.find("input[type='radio']:checked, select").each(function(t,e){o.push(e.value)});var s,c=[],d=(c=o.sort(function(t,e){return t-e})).join(),p=get_matching_variant(r.data("product_variants"),d);r.find("input[name='variant_id']").val(p),n.push({name:"variant_id",value:p})}n=n.filter(function(t){return void 0!==t}),a("body").trigger("before_doAjaxPrice",[r,n]),a(".j2store-notifications .j2error").html(""),a.ajax({url:j2storeURL+"index.php?option=com_j2store&view=product&task=update",type:"get",data:n,dataType:"json",success:function(e){var n=a(".product-"+t);r.find("input[type='submit']").attr("disabled",!1),n.length&&void 0===e.error&&(e.sku&&n.find(".sku").html(e.sku),e.pricing.base_price&&(n.find(".base-price").html(e.pricing.base_price),e.pricing.class&&("show"==e.pricing.class?n.find(".base-price").show():n.find(".base-price").hide())),e.pricing.price&&n.find(".sale-price").html(e.pricing.price),e.afterDisplayPrice&&n.find(".afterDisplayPrice").html(e.afterDisplayPrice),e.quantity&&(n.find('input[name="product_qty"]').val(e.quantity),("variable"==r.data("product_type")||"advancedvariable"==r.data("product_type")||"variablesubscriptionproduct"==r.data("product_type"))&&n.find('input[name="product_qty"]').attr({value:e.quantity})),e.main_image&&(j2store.jQuery(".j2store-product-main-image-"+t).attr("src",e.main_image),n.find(".j2store-mainimage .j2store-img-responsive").attr("src",e.main_image),n.find(".j2store-product-additional-images .additional-mainimage").attr("src",e.main_image)),void 0!==e.stock_status&&(1==e.availability?n.find(".product-stock-container").html('<span class="instock">'+e.stock_status+"</span>"):n.find(".product-stock-container").html('<span class="outofstock">'+e.stock_status+"</span>")),e.dimensions&&n.find(".product-dimensions").html(e.dimensions),e.weight&&n.find(".product-weight").html(e.weight),n.find(".discount-percentage").html(e.pricing.discount_text),a("body").trigger("after_doAjaxFilter",[n,e]),a("body").trigger("after_doAjaxPrice",[n,e]))},error:function(t,e,a){console.log(a+"\r\n"+t.statusText+"\r\n"+t.responseText)}})}}(j2store.jQuery)}function setMainPreview(t,e,a,r){r=r||"outer";var n,o="";o=(n=j2store.jQuery)("#"+t).attr("src"),n("#j2store-item-main-image-"+e+" img").attr("src",""),n("#j2store-item-main-image-"+e+" img").attr("src",o),a&&("outer"==r?n("#j2store-item-main-image-"+e).elevateZoom({cursor:"crosshair",zoomWindowFadeIn:500,zoomWindowFadeOut:750,zoomWindowWidth:450,zoomWindowHeight:300}):"inner"==r&&(n("#j2store-item-main-image-"+e+" .zoomImg").attr("src",o),n("#j2store-item-main-image-"+e+" img").attr("src",o),n("#j2store-item-main-image-"+e).elevateZoom({cursor:"crosshair",zoomWindowFadeIn:500,zoomWindowFadeOut:750,zoomWindowWidth:450,zoomWindowHeight:300})))}function removeAdditionalImage(t,e,a,r){var n;r=r||"outer",(n=j2store.jQuery)("#j2store-item-main-image-"+t+" img").attr("src",e),setMainPreview("j2store-item-main-image-"+t,t,a,r)}function getJ2storeFiltersSubmit(){jQuery("#j2store-product-loading").show(),jQuery("#productsideFilters").submit()}function resetJ2storeBrandFilter(t){t?jQuery("#productsideFilters").find("#"+t).prop("checked",!1):jQuery(".j2store-brand-checkboxes").each(function(){this.checked=!1})}function resetJ2storeVendorFilter(t){t?jQuery("#productsideFilters").find("#"+t).prop("checked",!1):jQuery(".j2store-vendor-checkboxes").each(function(){this.checked=!1})}function resetJ2storeProductFilter(t,e){t?jQuery("."+t).each(function(){this.checked=!1}):e&&jQuery("#productsideFilters").find("#"+e).prop("checked",!1)}function getPriceFilterToggle(){var t;(t=j2store.jQuery)("#price-filter-icon-plus").toggle(),t("#price-filter-icon-minus").toggle(),t("#j2store-slider-range").toggle(),t("#j2store-slider-range-box").toggle()}function getCategoryFilterToggle(){var t;(t=j2store.jQuery)("#cat-filter-icon-plus").toggle(),t("#cat-filter-icon-minus").toggle(),t("#j2store_category").toggle()}function getBrandFilterToggle(){var t;(t=j2store.jQuery)("#brand-filter-icon-plus").toggle(),t("#brand-filter-icon-minus").toggle(),t("#j2store-brand-filter-container").toggle()}function getVendorFilterToggle(){var t;(t=j2store.jQuery)("#vendor-filter-icon-plus").toggle(),t("#vendor-filter-icon-minus").toggle(),t("#j2store-vendor-filter-container").toggle()}function getPFFilterToggle(t){var e;(e=j2store.jQuery)("#pf-filter-icon-plus-"+t).toggle(),e("#pf-filter-icon-minus-"+t).toggle(),e("#j2store-pf-filter-"+t).toggle()}!function(t){t(document).ready(function(){t.ajaxSetup({cache:!1,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})})}(j2store.jQuery),function(t){t(document).on("click",".j2store_add_to_cart_button",function(e){var a=t(this);if(!a.attr("data-product_id"))return!0;a.removeClass("added"),a.addClass("loading");var r={option:"com_j2store",view:"carts",task:"addItem",ajax:"1"};t.each(a.data(),function(t,e){r[t]=e}),t("body").trigger("adding_to_cart",[a,r]);var n=a.attr("href");return(void 0===n||""===n)&&(n="index.php"),t.post(n,r,function(e){if(e){var r=window.location.toString();if(r=r.replace("add-to-cart","added-to-cart"),e.error){window.location=e.product_url;return}if(e.redirect){window.location.href=e.redirect;return}e.success&&(a.removeClass("loading"),a.addClass("added"),a.parent().find(".cart-action-complete").show(),t("body").trigger("after_adding_to_cart",[a,e,"link"]))}},"json"),!1})}(j2store.jQuery),function(t){t(document).ready(function(){t(".j2store-addtocart-form").each(function(){t(this).submit(function(e){e.preventDefault();var a=t(this);a.find("input[name='ajax']").val(1);var r=a.find("input[type='text'], input[type='number'], input[type='hidden'], input[type='radio']:checked, input[type='checkbox']:checked, select, textarea");a.find("input[type='submit']").val(a.find("input[type='submit']").data("cart-action-always")),a.find("input[type='submit']").attr("disabled",!0);var n=a.attr("action");if(void 0===n||""==n)var n="index.php";t("body").trigger("adding_to_cart",[a,r]),t.ajax({url:n,type:"post",data:r,dataType:"json"}).done(function(e){if(a.find("input[type='submit']").attr("disabled",!1),a.find(".j2success, .j2warning, .j2attention, .j2information, .j2error").remove(),t(".j2store-notification").hide(),e.error){if(a.find("input[type='submit']").val(a.find("input[type='submit']").data("cart-action-done")),e.error.option)for(i in e.error.option)a.find("#option-"+i).after('<span class="j2error">'+e.error.option[i]+"</span>");e.error.stock&&a.find(".j2store-notifications").html('<span class="j2error">'+e.error.stock+"</span>"),e.error.general&&a.find(".j2store-notifications").html('<span class="j2error">'+e.error.general+"</span>"),e.error.product&&a.find(".j2store-notifications").after('<span class="j2error">'+e.error.product+"</span>")}if(e.redirect){window.location.href=e.redirect;return}e.success&&(setTimeout(function(){a.find("input[type='submit']").val(a.find("input[type='submit']").data("cart-action-done")),a.find(".cart-action-complete").fadeIn("slow")},a.find("input[type='submit']").data("cart-action-timeout")),t("body").trigger("after_adding_to_cart",[a,e,"normal"]))}).fail(function(t,e,r){a.find("input[type='submit']").val(a.find("input[type='submit']").data("cart-action-done")),console.log(e+r)}).always(function(t,e,a){})})})})}(j2store.jQuery),function(t){t(document).ready(function(){t("#j2store_shipping_make_same").length>0&&t("#j2store_shipping_make_same").is(":checked")&&(t("#j2store_shipping_section").css({visible:"visible",display:"none"}),t("#j2store_shipping_section").children(".input-label").removeClass("required"),t("#j2store_shipping_section").children(".input-text").removeClass("required"))})}(j2store.jQuery);
