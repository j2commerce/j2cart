jQuery(function(t){var i={getAbsolutePath:function(i,e,r){var n=window.location,a=n.pathname.substring(0,n.pathname.lastIndexOf("/")+1);if(n.href.indexOf("view")>-1&&n.href.indexOf("option")>-1&&n.href.indexOf("Itemid")>-1){var d=n.origin.substring(n.origin.length-1,n.origin.length),o=n.origin;"/"==d&&(o=n.origin.substring(1,n.origin.length-1)),"/"!=a.substring(0,1)&&(a="/"+a);var l=o+a;(url_link="",t(r.form_id).length>0&&t(r.form_id).attr("data-link"))?t(r.form_id).data("link")&&"/"==t(r.form_id).data("link").substring(0,1)&&(url_link=t(r.form_id).data("link").substring(1,t(r.form_id).data("link").length)):t(r.topFilter_id).length>0&&t(r.topFilter_id).attr("data-link")?"/"==t(r.topFilter_id).data("link").substring(0,1)&&(url_link=t(r.topFilter_id).data("link").substring(1,t(r.topFilter_id).data("link").length)):t(".j2store-product-list").length>0&&t(".j2store-product-list").attr("data-link")?"/"==t(".j2store-product-list").data("link").substring(0,1)&&(url_link=t(".j2store-product-list").data("link").substring(1,t(".j2store-product-list").data("link").length)):""!==j2store_product_base_link&&"/"==j2store_product_base_link.substring(0,1)&&(url_link=j2store_product_base_link.substring(1,j2store_product_base_link.length)),"/"==(l+=url_link).substring(l.length-1,l.length)&&"/"==(url_slash=i.substring(0,1))&&(i=i.substring(1,i.length));var s=n.href.substring(n.href.indexOf("Itemid")),f="&option=com_j2store&view=products";s&&(f=f+"&"+s),n.href.indexOf("index.php")&&(l+="index.php"),"?"==(url_check=-1===i.indexOf("?")?"?":"&")&&"&"==(url_amp=i.substring(0,1))&&(i=i.substring(1,i.length)),i+=f,i=url_check+i,document.location.href=l+i}else{var l=n.href.substring(0,n.href.length-((n.pathname+n.search+n.hash).length-a.length));i=i.substr(1);var c=-1===l.indexOf("?")?"?":"&";if(!0==e)return c+i;document.location.href=c+i}},getQueryParam:function(t){for(var i=Object.keys(window.location.search.substr(1).split("&").reduce(function(t,i){var e=i.split("="),r=e[0],n=e[1];return t[r]=n,t},{})),e=0;e<i.length;e++)if(t==i[e].substr(0,t.length))return!0;return!1},removeParameter:function(t,i,e){var r=t.split("?");if(r.length>=2){for(var n=r.shift(),a=r.join("?"),d=i+"=",o=a.split(/[&;]/g),l=o.length;l-- >0;)-1!==o[l].lastIndexOf(d,0)&&o.splice(l,1);t=n+"?"+o.join("&")}return t}};t.J2StoreFilters=function(t){this.init(t)},t.J2StoreFilters.prototype={init:function(e){""==e.form_id&&(e.form_id="#productsideFilters"),""==e.topFilter_id&&(e.topFilter_id="#productFilters"),0!=e.form_id.length&&(this.sideFilter(e),this.categoryFilter(e),t(e.form_id).find(".manufacturer-filters a").on("click",function(){document.getElementById("j2store-product-loading").style.display="block",i.getQueryParam("manufacturer_ids")?location.href=i.removeParameter(window.location.href,"manufacturer_ids[]"):t(e.form_id).find(".j2store-brand-checkboxes").each(function(){this.checked=!1}),document.getElementById("j2store-product-loading").style.display="none"}),t(e.form_id).find(".j2store-product-vendor-filters a").on("click",function(){document.getElementById("j2store-product-loading").style.display="block",i.getQueryParam("vendor_ids")&&(location.href=i.removeParameter(window.location.href,"vendor_ids[]")),document.getElementById("j2store-product-loading").style.display="none"}),t(e.form_id).find(".productfilters-list a").on("click",function(){if(document.getElementById("j2store-product-loading").style.display="block",i.getQueryParam("productfilter_ids")){jQuery("."+t(this).data("class")).each(function(){this.checked=!1});var r="";if(t(e.form_id).find('input[type="checkbox"]').each(function(){this.checked&&(r+="&"+this.name+"="+this.value)}),t(e.form_id).find("li.active").length>0){var n=t(e.form_id).find("li.active").find("a");r+="&"+t(n).data("key")+"="+t(n).data("value")}0!=t(e.form_id+" #j2store-slider-range").length&&(r+="&pricefrom="+t(e.form_id).find("#min_price_input").attr("value"),r+="&priceto="+t(e.form_id).find("#max_price_input").attr("value")),i.getAbsolutePath(r,!1,e)}document.getElementById("j2store-product-loading").style.display="none"})),this.topFilter(e)},categoryFilter:function(e){t(e.form_id).find(".j2product-categories").on("click",function(r){document.getElementById("j2store-product-loading").style.display="block";var n="";if(t(".j2product-categories > a").data("key")&&(n+="&"+t(this).find("a").data("key")+"="+t(this).find("a").data("value")),0!=t(e.form_id).find("li.active").length&&t(e.form_id).find('input[type="checkbox"]:checked').each(function(i,e){n+="&"+t(e).attr("name")+"="+t(e).attr("value")}),0!=t(e.topFilter_id).length){if(0!=t(e.topFilter_id).find("input[name=search]").length){var a=t(e.topFilter_id).find("input[name=search]");""!=a&&(n+="&"+t(a).attr("name")+"="+t(a).attr("value"))}if(0!=t(e.topFilter_id).find("select[name=sortby]").length){var d=t(e.topFilter_id).find("select[name=sortby] option:selected");d&&(n+="&"+t(e.topFilter_id).find("select[name=sortby]").attr("name")+"="+d.val())}}0!=t(e.form_id+" #j2store-slider-range").length&&(n+="&pricefrom="+t(e.form_id).find("#min_price_input").attr("value"),n+="&priceto="+t(e.form_id).find("#max_price_input").attr("value")),i.getAbsolutePath(n,!1,e)})},sideFilter:function(e){t(e.form_id).find('input[type="checkbox"]').on("change",function(r){document.getElementById("j2store-product-loading").style.display="block";var n="";if(0!=e.form_id.length){if(t(e.form_id).find('input[type="checkbox"]').each(function(){this.checked&&(n+="&"+this.name+"="+this.value)}),0!=t(e.form_id).find("li.active").length){var a=t(e.form_id).find("li.active").find("a");n+="&"+t(a).data("key")+"="+t(a).data("value")}0!=t(e.form_id).find("#j2store-slider-range").length&&(n+="&pricefrom="+t(e.form_id).find("#min_price_input").attr("value"),n+="&priceto="+t(e.form_id).find("#max_price_input").attr("value"))}if(0!=t(e.topFilter_id).length){if(0!=t(e.topFilter_id).find("input[name=search]").length){var d=t(e.topFilter_id).find("input[name=search]");""!=d&&(n+="&"+t(d).attr("name")+"="+t(d).attr("value"))}if(0!=t(e.topFilter_id).find("select[name=sortby]").length){var o=t(e.topFilter_id).find("select[name=sortby] option:selected");o&&(n+="&"+t(e.topFilter_id).find("select[name=sortby]").attr("name")+"="+o.val())}}i.getAbsolutePath(n,!1,e)})},topFilter:function(e){if(0!=t(e.topFilter_id).length){var r="";t(e.topFilter_id).submit(function(n){if(n.preventDefault(),t(e.form_id).find("li.active").length>0){var a=t(e.form_id).find("li.active").find("a");r+="&"+t(a).data("key")+"="+t(a).data("value")}if(0!=t(e.form_id).find("li.active").length&&t(e.form_id).find('input[type="checkbox"]:checked').each(function(i,e){r+="&"+t(e).attr("name")+"="+t(e).attr("value")}),0!=t(e.topFilter_id).find("input[name=search]").length){var d=t(e.topFilter_id).find("input[name=search]");""!=d&&(r+="&"+t(d).attr("name")+"="+t(d).val())}if(0!=t(e.topFilter_id).find("select[name=sortby]").length){var o=t(e.topFilter_id).find("select[name=sortby] option:selected");r+="&"+t(e.topFilter_id).find("select[name=sortby]").attr("name")+"="+o.val()}0!=t(e.form_id).find("#j2store-slider-range").length&&(r+="&pricefrom="+t(e.form_id).find("#min_price_input").val(),r+="&priceto="+t(e.form_id).find("#max_price_input").val()),i.getAbsolutePath(r,!1,e)})}},priceSlider:function(e){t(e.form_id).find("#j2store-slider-range").slider({slide:function(r,n){document.getElementById("j2store-product-loading").style.display="block";var a="";if(0!=e.form_id.length){if(t(e.form_id).find("li.active").length>0){var d=t(e.form_id).find("li.active").find("a");a+="&"+t(d).data("key")+"="+t(d).data("value")}0!=t(e.form_id).find('input[type="checkbox"]:checked').length&&t(e.form_id).find('input[type="checkbox"]').each(function(){this.checked&&(a+="&"+this.name+"="+this.value)})}if(0!=t(e.topFilter_id).length){t(e.topFilter_id).find("input[name=search]").length>0&&(a+="&"+t(e.topFilter_id).find("input[name=search]").attr("name")+"="+t(e.topFilter_id).find("input[name=search]").attr("value"));var o=t(e.topFilter_id).find("select[name=sortby] option:selected");t(e.topFilter_id).find("select[name=sortby]").length>0&&(a+="&"+t(e.topFilter_id).find("select[name=sortby]").attr("name")+"="+o.val())}0!=t(e.form_id).find("#j2store-slider-range").length&&(a+="&pricefrom="+n.values[0],a+="&priceto="+n.values[1],t(e.form_id).find("#min_price").html(n.values[0]),t(e.form_id).find("#max_price").html(n.values[1])),i.getAbsolutePath(a,!1,e)}})}},new t.J2StoreFilters({form_id:"#productsideFilters",topFilter_id:"#productFilters"})});
